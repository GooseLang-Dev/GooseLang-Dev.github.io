"use strict";(self.webpackChunkgooselang_docs=self.webpackChunkgooselang_docs||[]).push([[2755],{1274:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"input-form/textarea","title":"Textarea","description":"\ud83d\udcd8 Overview","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/input-form/textarea.md","sourceDirName":"input-form","slug":"/input-form/textarea","permalink":"/dev/input-form/textarea","draft":false,"unlisted":false,"editUrl":"https://github.com/GooseLang-Dev/gooselang.github.io/tree/main/i18n/en/docusaurus-plugin-content-docs/current/input-form/textarea.md","tags":[],"version":"current","lastUpdatedBy":"BruceWJ","lastUpdatedAt":1754286127000,"sidebarPosition":4,"frontMatter":{"title":"Textarea","sidebar_position":4,"id":"textarea"},"sidebar":"devSidebar","previous":{"title":"Text","permalink":"/dev/input-form/text"},"next":{"title":"Checkbox","permalink":"/dev/input-form/checkbox"}}');var s=r(4848),i=r(8453);const l={title:"Textarea",sidebar_position:4,id:"textarea"},d="Form Textarea Component & Macro",a={},c=[{value:"\ud83d\udcd8 Overview",id:"-overview",level:2},{value:"\ud83d\udd17 Dependencies",id:"-dependencies",level:2},{value:"\ud83d\udcd0 Data Structures",id:"-data-structures",level:2},{value:"Macro Signature",id:"macro-signature",level:3},{value:"Arguments (<code>args</code>)",id:"arguments-args",level:3},{value:"Value Handling",id:"value-handling",level:4},{value:"Rendering Structure",id:"rendering-structure",level:4},{value:"\u2699\ufe0f Core Methods &amp; Logic",id:"\ufe0f-core-methods--logic",level:2},{value:"Macro Internals",id:"macro-internals",level:3},{value:"Example Macro Expansion",id:"example-macro-expansion",level:4},{value:"\ud83e\uddea Usage Patterns",id:"-usage-patterns",level:2},{value:"Settings Panel",id:"settings-panel",level:3},{value:"Problem Authoring",id:"problem-authoring",level:3},{value:"User Import",id:"user-import",level:3},{value:"Discussion Editing",id:"discussion-editing",level:3},{value:"\ud83e\udde0 Code Review and Suggestions",id:"-code-review-and-suggestions",level:2},{value:"\ud83d\udcdd File Structure",id:"-file-structure",level:2},{value:"\ud83d\udccc Notes / Observations",id:"-notes--observations",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"form-textarea-component--macro",children:"Form Textarea Component & Macro"})}),"\n",(0,s.jsx)(n.h2,{id:"-overview",children:"\ud83d\udcd8 Overview"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"form_textarea"})," macro is a reusable UI component in GooseLang's default UI system for rendering multi-line text input areas within forms. It supports markdown editing, spell checking, and advanced features like custom grid sizing and help text. The macro is used throughout the platform for settings, problem authoring, user import, and any scenario requiring rich or long-form text input."]}),"\n",(0,s.jsx)(n.h2,{id:"-dependencies",children:"\ud83d\udd17 Dependencies"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Jinja2 Macros"}),": Defined in ",(0,s.jsx)(n.code,{children:"components/form.html"}),", typically imported as ",(0,s.jsx)(n.code,{children:"form"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"form_begin / form_end"}),": Used to wrap form fields for layout, labels, and help text."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Translation/i18n"}),": Uses the ",(0,s.jsx)(n.code,{children:"_()"})," function for label and placeholder translation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CSS Classes"}),": Relies on ",(0,s.jsx)(n.code,{children:"textarea-container"}),", ",(0,s.jsx)(n.code,{children:"textbox"}),", and grid classes for styling."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Context"}),": Expects arguments (args) dict, often passed from higher-level form logic."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-data-structures",children:"\ud83d\udcd0 Data Structures"}),"\n",(0,s.jsx)(n.h3,{id:"macro-signature",children:"Macro Signature"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{% macro form_textarea(args) %}\n  {{ form_begin({columns:10}|assign(args)) }}\n  {{ textarea(args) }}\n  {{ form_end(args) }}\n{% endmacro %}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"form_textarea(args)"})}),": Renders a labeled, grid-aligned textarea field."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"textarea(args)"})}),": Renders the raw ",(0,s.jsx)(n.code,{children:"<textarea>"})," element (used internally)."]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"arguments-args",children:["Arguments (",(0,s.jsx)(n.code,{children:"args"}),")"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Argument"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"name"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"required"}),(0,s.jsx)(n.td,{children:"Name attribute for the textarea"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"value"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Current textarea content"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"placeholder"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Placeholder text"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"columns"})}),(0,s.jsx)(n.td,{children:"number"}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"Grid columns to span"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"label"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Field label (shown above/left of textarea)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"required"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Whether the field is required"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"disabled"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Whether the field is disabled"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"markdown"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Enable markdown editing features"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nospellcheck"})}),(0,s.jsx)(n.td,{children:"bool"}),(0,s.jsx)(n.td,{children:"false"}),(0,s.jsx)(n.td,{children:"Disable browser spell checking"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"extra_class"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Additional CSS classes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"extra_attr"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Additional HTML attributes"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"help_text"})}),(0,s.jsx)(n.td,{children:"string"}),(0,s.jsx)(n.td,{children:"none"}),(0,s.jsx)(n.td,{children:"Help text below the field"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"..."}),(0,s.jsx)(n.td,{children:"..."}),(0,s.jsx)(n.td,{children:"..."}),(0,s.jsx)(n.td,{children:"Any other attributes passed to the textarea"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"value-handling",children:"Value Handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.code,{children:"<textarea>"}),"'s content is set to the provided value."]}),"\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"markdown: true"}),", the ",(0,s.jsx)(n.code,{children:"data-markdown"})," attribute is added for JS integration."]}),"\n",(0,s.jsxs)(n.li,{children:["If ",(0,s.jsx)(n.code,{children:"nospellcheck: true"}),", the ",(0,s.jsx)(n.code,{children:"spellcheck"})," attribute is set to ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"rendering-structure",children:"Rendering Structure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Outer ",(0,s.jsx)(n.code,{children:".row"})," and ",(0,s.jsx)(n.code,{children:".columns"})," for grid layout (if ",(0,s.jsx)(n.code,{children:"row"})," is true)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".form__item"})," for form styling"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".textarea-container"})," for the group"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"<textarea ...>"})," with all relevant attributes"]}),"\n",(0,s.jsx)(n.li,{children:"Optional help text below"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-core-methods--logic",children:"\u2699\ufe0f Core Methods & Logic"}),"\n",(0,s.jsx)(n.h3,{id:"macro-internals",children:"Macro Internals"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"form_textarea(args)"}),": Combines ",(0,s.jsx)(n.code,{children:"form_begin"}),", ",(0,s.jsx)(n.code,{children:"textarea"}),", and ",(0,s.jsx)(n.code,{children:"form_end"})," for a complete, labeled field."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"textarea(args)"}),": Renders the ",(0,s.jsx)(n.code,{children:"<textarea>"})," element. Handles value, markdown, spellcheck, and passes through all relevant attributes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"form_begin/form_end"}),": Provide grid, label, and help text structure."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"form_attr"}),": Macro for passing attributes (disabled, required, autofocus, etc.) to the textarea."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"container_attr"}),": Macro for container div attributes."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"example-macro-expansion",children:"Example Macro Expansion"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{{ form.form_textarea({\n  name: 'content',\n  columns: 12,\n  label: 'Content',\n  markdown: true,\n  value: tdoc['content']|default(''),\n  extra_style: 'height: 300px',\n  extra_textarea_class: 'auto-resize',\n  row: true\n}) }}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Renders as:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div class="columns form__item end">\n  <label>\n    Content\n    <div class="textarea-container">\n      <textarea name="content" data-markdown style="height: 300px" class="textbox auto-resize">...</textarea>\n    </div>\n  </label>\n</div>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-usage-patterns",children:"\ud83e\uddea Usage Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"settings-panel",children:"Settings Panel"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{{ form.form_textarea({\n  label: setting.name,\n  help_text: setting.desc,\n  name: setting.key,\n  value: '' if secret else (current[setting.key]|default(setting.value)),\n  disabled: setting.flag|bitand(2),\n  placeholder: _('(Not changed)') if secret else '',\n  extra_attr: 'data-yaml' if setting.subType == 'yaml' else ''\n}) }}\n\n{{ form.form_textarea({\n  label: setting.name,\n  help_text: setting.desc,\n  name: setting.key,\n  value: '' if secret else (current[setting.key]|default(setting.value)),\n  markdown: true,\n  disabled: setting.flag|bitand(2),\n  placeholder: _('(Not changed)') if secret else ''\n}) }}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used for multi-line settings, YAML, and markdown fields."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"problem-authoring",children:"Problem Authoring"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{{ form.form_textarea({\n  columns: 12,\n  label: 'Content',\n  name: 'content',\n  markdown: true,\n  extra_style: 'height: 300px',\n  extra_textarea_class: 'auto-resize',\n  value: qdoc.content.raw if qdoc.content else '',\n  row: true\n}) }}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used for question content, answers, and descriptions."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"user-import",children:"User Import"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{{ form.form_textarea({\n  columns: null,\n  label: 'Users',\n  name: 'users',\n  nospellcheck: true\n}) }}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used for bulk user import and similar flows."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"discussion-editing",children:"Discussion Editing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{{ form.form_textarea({\n  columns: 12,\n  label: 'Content',\n  name: 'content',\n  value: ddoc.content|default(''),\n  hotkeys: 'ctrl+enter:submit',\n  markdown: true,\n  required: true,\n  extra_style: 'height: 500px',\n  extra_textarea_class: 'auto-resize'\n}) }}\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used for discussion content and markdown editing."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-code-review-and-suggestions",children:"\ud83e\udde0 Code Review and Suggestions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maintainability:"})," The macro is well-structured and composable. Consider stricter type checking for ",(0,s.jsx)(n.code,{children:"args"})," and textarea-specific options in future refactors."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Extensibility:"})," Supports most common use cases. For code editors or JSON/YAML, use ",(0,s.jsx)(n.code,{children:"extra_attr"})," for custom data attributes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accessibility:"})," Uses proper label structure, but ensure ",(0,s.jsx)(n.code,{children:"id"}),"/",(0,s.jsx)(n.code,{children:"for"})," attributes are set for screen readers if custom labels are used."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"i18n:"})," All user-facing text should be wrapped in ",(0,s.jsx)(n.code,{children:"_()"})," for translation."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UX:"})," The macro supports help text, markdown, and spellcheck, but does not natively support input length limits or validation hints\u2014consider adding if needed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consistency:"})," Always use ",(0,s.jsx)(n.code,{children:"form_textarea"})," for multi-line fields in forms to ensure consistent layout and behavior."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-file-structure",children:"\ud83d\udcdd File Structure"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"packages/ui-default/templates/components/form.html"}),": Macro definition (",(0,s.jsx)(n.code,{children:"form_textarea"}),", ",(0,s.jsx)(n.code,{children:"textarea"}),", etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"packages/ui-default/templates/partials/"}),", ",(0,s.jsx)(n.code,{children:"problem_material_text_edit.html"}),", etc.: Macro usage"]}),"\n",(0,s.jsxs)(n.li,{children:["Typical import:","\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jinja2",children:"{% import 'components/form.html' as form with context %}\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-notes--observations",children:"\ud83d\udccc Notes / Observations"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Design Choice:"})," The macro is designed for maximum composability and grid alignment with other form fields."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-Tenancy:"})," Used in both global and per-space settings forms."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom Styling:"})," Supports ",(0,s.jsx)(n.code,{children:"extra_class"}),", ",(0,s.jsx)(n.code,{children:"extra_attr"}),", and ",(0,s.jsx)(n.code,{children:"extra_style"})," for custom CSS and attributes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Help Text:"})," ",(0,s.jsx)(n.code,{children:"help_text"})," is rendered below the field for user guidance."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Integration:"})," Works seamlessly with other form macros (text, select, checkbox, etc.) for unified UI."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Testing:"})," Macro is widely used and stable, but always test in context for new layouts or accessibility requirements."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:["For further details, see the macro definition in ",(0,s.jsx)(n.code,{children:"components/form.html"})," and usage in templates throughout the UI system."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>d});var t=r(6540);const s={},i=t.createContext(s);function l(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);